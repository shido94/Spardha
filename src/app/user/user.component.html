<app-header></app-header>

<div style="text-align: center; margin-top: 10px">
  <h4>Your registered team</h4>
</div>
<div class="container">
  <div class="row">
    <div class="table-responsive">

    <table class="table">
      <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Captain Name</th>
        <th scope="col">Game</th>
        <th scope="col">Team Member</th>
        <th scope="col">Amount</th>
        <th scope="col">Check</th>
        <!--<th scope="col"><button (click)="refreshButton()" class="btn btn-danger">Refresh</button></th>-->
      </tr>
      </thead>
      <tbody>

      <tr *ngFor="let name of names; let i = index">
        <th scope="row">{{i+1}}</th>
        <td>{{name.name}}</td>
        <td>{{name.game}}</td>
        <td>{{name.team.length+1}}</td>

        <td *ngIf="name.type === 'team'"></td>
        <td *ngIf="status[i] === 'TXN_FAILURE' && name.type === 'individual'">UNPAID</td>
        <td *ngIf="status[i] === 'PENDING' && name.type === 'individual'">PENDING</td>
        <td *ngIf="status[i] === 'TXN_SUCCESS' && amount[i] >= 68 && name.type === 'individual'">PAID</td>
        <td *ngIf="status[i] === 'TXN_SUCCESS' && amount[i] < 68 && name.type === 'individual'">UNPAID</td>

        <td *ngIf="name.type === 'team'"></td>
        <td *ngIf="status[i] === 'TXN_FAILURE' && name.type === 'individual'"><a  [routerLink]="['/payment', name._id]">Pay Again</a></td>
        <td *ngIf="status[i] === 'PENDING' && name.type === 'individual'"><a (click)="refreshButton()" routerLink="#">Refresh</a></td>
        <td *ngIf="status[i] === 'TXN_SUCCESS' && amount[i] >= 68 && name.type === 'individual'"></td>
        <td *ngIf="status[i] === 'TXN_SUCCESS' && amount[i] < 68 && name.type === 'individual'"><a  [routerLink]="['/payment', name._id]">Pay Again</a></td>

      </tr>
      </tbody>
    </table>
    </div>
  </div>
  <br>
  <br>
  <div><b>Note</b>--> Please Click on Refresh after some time, If the <b>Payment Status</b> is <b>PENDING</b></div>
</div>

